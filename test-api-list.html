<!DOCTYPE html>
<html>
<head>
    <title>Test API Produits</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        .test { border: 1px solid #ccc; padding: 10px; margin: 10px 0; }
        pre { background: #f5f5f5; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Test API - List Produits</h1>
    
    <button onclick="testAPI()">Appeler API /Api/Products/list.php</button>
    <div id="result"></div>
    
    <script>
        async function testAPI() {
            const res = await fetch('/APP_IB/backend/Api/Products/list.php', {
                credentials: 'include'
            });
            const json = await res.json();
            const div = document.getElementById('result');
            
            if (json.success) {
                div.innerHTML = `
                    <div class="test">
                        <h3>✅ Succès</h3>
                        <p><strong>Nombre de produits retournés:</strong> ${json.data.length}</p>
                        <p><strong>Message:</strong> ${json.message}</p>
                        <details>
                            <summary>Voir les données JSON</summary>
                            <pre>${JSON.stringify(json, null, 2)}</pre>
                        </details>
                    </div>
                `;
            } else {
                div.innerHTML = `<div class="test"><h3>❌ Erreur</h3><p>${json.message}</p></div>`;
            }
        }
    </script>
</body>
</html>
